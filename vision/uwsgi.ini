[uwsgi]
# 기본 설정
module = app:app
master = true
processes = 4
threads = 2

# FastCGI 설정
protocol = $(UWSGI_PROTOCOL)
socket = $(UWSGI_SOCKET)
chmod-socket = $(UWSGI_CHMOD_SOCKET)

# 로깅 설정
logto = /var/log/vision/uwsgi.log
log-reopen = true
log-maxsize = 10000000

# 앱 설정
chdir = /vision
pythonpath = /vision

# 프로세스 관리
vacuum = true
die-on-term = true
need-app = true

# 버퍼 크기 설정 (파일 업로드를 위해 증가)
buffer-size = 32768
post-buffering = 32768 